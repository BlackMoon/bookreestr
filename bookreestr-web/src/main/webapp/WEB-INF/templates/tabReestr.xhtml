<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"	
	xmlns:ace="http://www.icefaces.org/icefaces/components">
	
	<h:panelGrid columns="2">
		<ace:pushButton value="Добавить" />
		<ace:pushButton value="Удалить" styleClass="ice-pushbutton #{reestrBean.rowIx != -1 ? '' : 'ui-state-disabled'}" />
	</h:panelGrid> 
	
	<ace:dataTable id="gridReestr"
				value="#{reestrBean.items}" 
        		var="reestr"
        		paginator="true" 
        		paginatorPosition="bottom"                
                rows="10"                                 
                rowSelectListener="#{reestrBean.selectListener}"
                selectionMode="single">
        	<ace:column id="book" headerText="Книга" sortBy="#{book.id}" filterBy="#{reestr.id}" filterMatchMode="contains">
               	<h:outputText id="bookCell" value="#{reestr.id}"/>
            </ace:column>
            <ace:column id="reader" headerText="Текущий читатель" sortBy="#{reestr.id}" filterBy="#{book.id}" filterMatchMode="contains">
               	<h:outputText id="readerCell" value="#{book.id}"/>
            </ace:column>
            <ace:column id="startdate" headerText="Дата выдачи" sortBy="#{book.id}" filterBy="#{book.id}" filterMatchMode="contains">
              	<h:outputText id="startCell" value="#{book.id}"/>
            </ace:column>
            <ace:column id="returndate" headerText="Дата возврата" sortBy="#{book.id}" filterBy="#{book.id}" filterMatchMode="contains" >
              	<h:outputText id="returnCell" value="#{book.id}" />
            </ace:column>
    		<ace:column id="options" rendered="#{request.userPrincipal != null}">
            	<ace:rowEditor id="editor"/>                   		
            </ace:column>
    </ace:dataTable>
</ui:composition>
